---
import "../styles/global.css";
import Taskbar from "../components/desktop/Taskbar.astro";
export interface Props { title?: string }
const { title = "David Cano | Portfolio (Escritorio)" } = Astro.props;
---
<html lang="es" class="bg-black text-white min-h-screen">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{title}</title>
</head>

<!-- Modal de bienvenida -->
<div id="welcome-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[70] hidden"></div>

<div id="welcome-modal"
     class="fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2
            w-[min(520px,95vw)] rounded-2xl border border-white/10
            bg-neutral-900/90 text-white shadow-2xl z-[80] hidden">
  <header class="h-12 px-4 flex items-center justify-between border-b border-white/10 bg-white/5 rounded-t-2xl">
    <div class="flex items-center gap-2">
      <!-- mini iconito estilo Win -->
      <svg width="18" height="18" viewBox="0 0 24 24" class="opacity-90"><path fill="currentColor" d="M3 4l8-1v9H3V4zm9-1l9-1v11h-9V3zM3 13h8v8l-8-1v-7zm9 0h9v9l-9-1v-8z"/></svg>
      <span class="font-semibold">Bienvenido</span>
    </div>
    <button id="welcome-close" class="px-2 py-1 rounded hover:bg-white/10" aria-label="Cerrar">✖</button>
  </header>

  <div class="p-5 space-y-3 leading-relaxed">
    <h2 class="text-lg font-semibold">¡Bienvenido! soy David Cano</h2>
    <p>Mi porfolio ha cambiado: ahora es más que un porfolio, es un entorno inspirado en <strong>Windows 11</strong>. 🪟</p>
    <p>Explora los iconos del “escritorio”, abre ventanas, escucha música y pásalo bien. ¡Espero que te guste!</p>
  </div>

  <footer class="p-4 border-t border-white/10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
  <label class="flex items-center gap-2 text-sm opacity-90 select-none">
    <input id="welcome-never" type="checkbox" class="accent-white/80">
    No volver a mostrar
  </label>
  <div class="flex gap-2 self-end">
    <button id="welcome-close" class="px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20">Cerrar</button>
    <button id="welcome-ok" class="px-3 py-1.5 rounded-lg bg-white/15 hover:bg-white/25">Entendido</button>
  </div>
</footer>

</div>


<body class="min-h-screen overflow-hidden">
<main class="relative h-[100dvh] w-full desktop-wallpaper select-none">
<div class="desktop-vignette absolute inset-0 pointer-events-none"></div>
<slot />
<!-- Barra de tareas Windows-like -->
<Taskbar />
</main>


<script src="/js/desktop-ui.js" defer></script>
<script src="/js/win-manager.js" defer></script>
<script src="/js/config.music.js" defer></script>
<script src="/js/music.js" defer></script>

</body>
</html>