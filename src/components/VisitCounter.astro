---
/**
 * Contador de visitas con CountAPI (sin backend propio).
 * Cambia NAMESPACE si quieres ‚Äúresetear‚Äù el contador.
 * Usa un KEY por p√°gina si quieres contadores separados.
 */
const NAMESPACE = 'davidkano-portfolio'; // solo letras, n√∫meros y guiones
const KEY = 'home';                       // usa 'home', 'projects', etc.
---
<div class="inline-flex items-center gap-2 text-sm text-gray-300">
  <span>üëÄ Visitas:</span>
  <strong id="visit-count">‚Äî</strong>
</div>

<script is:inline>
(async () => {
  const url = `https://api.countapi.xyz/hit/${encodeURIComponent("${NAMESPACE}")}/${encodeURIComponent("${KEY}")}`;
  try {
    const res = await fetch(url, { cache: 'no-store' }); // evita cache del navegador/CDN
    const data = await res.json();
    const value = (typeof data.value === 'number') ? data.value : (data.count ?? 0);
    const el = document.getElementById('visit-count');
    if (el) el.textContent = value.toLocaleString();
  } catch (e) {
    const el = document.getElementById('visit-count');
    if (el) el.textContent = '‚Äî';
  }
})();
</script>


